(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17f3ad10"],{3139:function(e,t,n){},"86dc":function(e,t,n){"use strict";n("3139")},d0a9:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("d2-container",[n("template",{slot:"header"},[n("el-select",{attrs:{placeholder:"请选择您的设备"},on:{change:e.getUpfManage},model:{value:e.instanceValue,callback:function(t){e.instanceValue=t},expression:"instanceValue"}},e._l(e.options,(function(e){return n("el-option",{key:e.instanceId,attrs:{label:e.instanceId,value:e.instanceId}})})),1)],1),n("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.tabLoading,expression:"tabLoading"}],attrs:{type:"border-card","element-loading-text":"正在向服务器请求数据","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"tab-click":e.clickTab},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("el-tab-pane",{attrs:{label:"CPE管理",name:"cpe configuration"}},[""==this.instanceValue?n("el-alert",{attrs:{title:"请先选择实例",type:"warning"}}):e._e(),n("el-form",{ref:"form",attrs:{model:e.cpe,"label-width":"220px"}},[e._l(e.cpe,(function(t,a){return[n("el-form-item",{key:a,attrs:{label:a}},["string"===e.cpeType[a].type||"int"===e.cpeType[a].type?n("el-input",{staticClass:"input-data",model:{value:e.cpe[a],callback:function(t){e.$set(e.cpe,a,t)},expression:"cpe[key]"}}):e._e()],1)]})),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmitCpe}},[e._v("添加/修改")])],1)],2)],1),n("el-tab-pane",{attrs:{label:"DPE管理",name:"dpe configuration"}},[""==this.instanceValue?n("el-alert",{attrs:{title:"请先选择实例",type:"warning"}}):e._e(),n("el-form",{ref:"form1",attrs:{model:e.dpe,"label-width":"220px"}},[e._l(e.dpe,(function(t,a){return[n("el-form-item",{key:a,attrs:{label:a}},["string"===e.dpeType[a].type||"int"===e.dpeType[a].type?n("el-input",{staticClass:"input-data",model:{value:e.dpe[a],callback:function(t){e.$set(e.dpe,a,t)},expression:"dpe[key]"}}):e._e(),"bool"===e.dpeType[a].type?n("el-switch",{model:{value:e.dpe[a],callback:function(t){e.$set(e.dpe,a,t)},expression:"dpe[key]"}}):e._e()],1)]})),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmitCpe}},[e._v("添加/修改")])],1)],2)],1),n("el-tab-pane",{attrs:{label:"路由表项配置",name:"route table"}},[n("routeConfig",{attrs:{data:e.routeData,label:"路由表项配置",type:"route table",formData:e.route_table,instanceValue:e.instanceValue}})],1),n("el-tab-pane",{attrs:{label:"网络接口配置",name:"net interface"}},[n("routeConfig",{attrs:{label:"网络接口配置",data:e.netInterfaceData,type:"net interface",formData:e.net_interface,instanceValue:e.instanceValue}})],1),n("el-tab-pane",{attrs:{label:"数据接口配置",name:"nwi"}},[n("routeConfig",{attrs:{label:"数据接口配置",data:e.nwiData,type:"nwi",formData:e.nwi,instanceValue:e.instanceValue}})],1),n("el-tab-pane",{attrs:{label:"网络实例配置",name:"network instance"}},[n("routeConfig",{attrs:{data:e.networkInstanceData,type:"network instance",instanceValue:e.instanceValue}})],1),n("el-tab-pane",{attrs:{label:"默认网络实例配置",name:"default network instance"}},[n("routeConfig",{attrs:{data:e.dNetworkInstanceData,type:"default network instance",instanceValue:e.instanceValue}})],1),n("el-tab-pane",{attrs:{label:"PFCP端点配置",name:"pfcp endpoint"}},[n("routeConfig",{attrs:{data:e.pfcpendpointData,type:"pfcp endpoint"}})],1),n("el-tab-pane",{attrs:{label:"FTPU端点配置",name:"gtpu endpoint"}},[n("routeConfig",{attrs:{data:e.gtpuEndpointData,type:"gtpu endpoint"}})],1),n("el-tab-pane",{attrs:{label:"应用规则配置",name:"applications"}},[n("routeConfig",{attrs:{data:e.applicationsData,type:"applications"}})],1),n("el-tab-pane",{attrs:{label:"IP地址池配置",name:"ip pool"}},[n("routeConfig",{attrs:{data:e.ipPoolData,type:"ip pool"}})],1),n("el-tab-pane",{attrs:{label:"流超时配置",name:"flow timeout"}}),n("el-tab-pane",{attrs:{label:"CPE N4 Listen Address配置",name:"cpe n4 listen address"}})],1)],2)},r=[],o=(n("c5f6"),n("fcd0")),i={methods:{getServiceInstance:function(e){return new Promise((function(t,n){var a={serviceName:e};Object(o["k"])(a).then((function(e){console.log("获取的实例列表",e),t(e)})).catch((function(e){n(e),console.log("e",e)}))}))}}},s=n("5c96"),c={max_session:{type:"int",txt:"CPE 最大会话数"},max_incoming_req:{type:"int",txt:"CPE 最大并发输入请求数"},max_outcoming_req:{type:"int",txt:"CPE 最大并发输出请求数"},heartbeat_interval:{type:"int",txt:"CPE 心跳 间隔，单位秒"},inactivity_timer:{type:"int",txt:"CPE 节点掉线检查时间"},n1_request:{type:"int",txt:"PFCP 消息重发次"},t1_response_timeout:{type:"int",txt:"PFCP 消息超时时间"}},u={dpe_number:{type:"int",txt:"DPE 个数"},dpe_max_session:{type:"int",txt:"DPE 最大会话数"},dpe_flow_factor:{type:"int",txt:"DPE 流因子"},dp_accelerate:{type:"bool",txt:"DP 加速是否使能"},dpe_flow_count_per_session:{type:"int",txt:"DPE 每个会话的流最大数"},dpe_flow_idle_time_per_session:{type:"int",txt:"DPE 流失效时间"},n3_interface_ipv4_address:{type:"string",txt:"DP N3 口 ipv4 地址"},n6_interface_ipv4_address:{type:"string",txt:"DP N6 口 ipv4 地址"},n9_interface_ipv4_address:{type:"string",txt:"DP N9 口 ipv4 地址"},n3_interface_ipv6_address:{type:"string",txt:"DP N3 口 ipv6 地址"},n6_interface_ipv6_address:{type:"string",txt:"DP N6 口 ipv6 地址"},n9_interface_ipv6_address:{type:"string",txt:"DP N9 口 ipv6 地址"}},p={id:{type:"int",txt:"路由表 ID",value:""}},l={name:{type:"string",txt:"接口名称",value:""},mac:{type:"string",txt:"接口 mac 地址",value:""},table_id_v4:{type:"int",txt:"ipv4 路由表 ID",value:""},table_id_v6:{type:"int",txt:"ipv6 路由表 ID",value:""},ip_prefix:{type:"array",txt:"接口 IP 地址",value:""}},f={name:{type:"string",txt:"网络实例名称",value:""},table_id:{type:"string",txt:"路由表 ID(V4/V6)",value:""}},d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{"margin-bottom":"10px"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.addData}},[e._v("添加数据")])],1),e.data.length>0?n("el-table",{attrs:{stripe:"",border:"",data:e.data}},[e._l(e.columnData,(function(e){return n("el-table-column",{key:e,attrs:{prop:e,label:e}})})),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.delData(t.row)}}},[e._v("删除")])]}}],null,!1,948045374)})],2):e._e(),n("el-dialog",{attrs:{title:e.label,visible:e.isShowDiaLog},on:{"update:visible":function(t){e.isShowDiaLog=t}}},[n("el-form",{attrs:{modal:e.formItem}},e._l(e.formItem,(function(t,a){return n("el-form-item",{key:a,attrs:{label:a}},[[n("el-input",{attrs:{value:e.formItem[a]},on:{input:function(t){return e.onInput(t,a)}}})]],2)})),1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.handleCancel}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")])],1)],1)],1)},m=[],b=(n("8e6e"),n("bd86"));n("ac6a"),n("456d");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(b["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={data:function(){return{columnData:{},isShowDiaLog:!1,formItem:{},initFormItem:{}}},watch:{data:{handler:function(e){Array.isArray(e)&&e.length&&e[0]instanceof Object&&!Object.keys(this.columnData).length&&(this.columnData=Object.keys(e[0]))},immediate:!0},formData:{handler:function(e){var t=this,n=Object.keys(e);e&&n.length&&(n.map((function(e){t.formItem[e]=""})),this.initFormItem=h({},this.formItem))},immediate:!0}},props:{type:{default:"",type:String},formData:{type:Object,default:function(){return{}}},instanceValue:{default:"",type:String},sequenceNo:{type:Number,default:1e3},label:{default:"",type:String},data:{type:Array,default:function(){return[]}}},created:function(){},methods:{delData:function(e){var t=this,n={request_type:this.type+" del",instance_id:this.instanceValue,sequence_no:1e3,data:[e]};Object(o["z"])(n).then((function(e){!0===e.status?t.$message.success("删除成功"):t.$message.error(e.error||"网络错误，请稍后再试")}))},addData:function(){""!=this.instanceValue?this.isShowDiaLog=!0:this.$message.warning("请先选择实例")},handleConfirm:function(){var e=this;for(var t in this.formItem){if(console.log("key",t),""==this.formItem[t])return void this.$message.error("请填写完数据再提交");if("int"==this.formData[t].type){var n=Number(this.formItem[t]);if(isNaN(n))return void this.$message.error("".concat(t,"请填写int类型提交"));this.formItem[t]=n}}var a={request_type:this.type+" add",instance_id:this.instanceValue,sequence_no:this.sequenceNo,data:[this.formItem]};Object(o["z"])(a).then((function(t){!0===t.status?(e.$message.success("添加成功"),e.formItem=h({},e.initFormItem),e.isShowDiaLog=!1):e.$message.error(t.error||"网络错误，请稍后再试")}))},handleCancel:function(){this.formItem=h({},this.initFormItem),this.isShowDiaLog=!1},onInput:function(e,t){this.formItem[t]=e,this.formItem=Object.assign({},this.formItem)}}},y=v,_=n("2877"),k=Object(_["a"])(y,d,m,!1,null,null,null),w=k.exports,D={mixins:[i],name:"upf",components:{routeConfig:w},data:function(){return{options:[],instanceValue:"",tab:"cpe configuration",tabLoading:!1,cpeType:c,dpeType:u,cpe:{max_session:"",max_incoming_req:"",max_outcoming_req:"",heartbeat_interval:"",inactivity_timer:"",n1_request:"",t1_response_timeout:""},dpe:{dpe_number:"",dpe_max_session:"",dpe_flow_factor:"",dp_accelerate:!1,dpe_flow_count_per_session:"",dpe_flow_idle_time_per_session:"",n3_interface_ipv4_address:"",n6_interface_ipv4_address:"",n9_interface_ipv4_address:"",n3_interface_ipv6_address:"",n6_interface_ipv6_address:"",n9_interface_ipv6_address:""},routeData:[],netInterfaceData:[],nwiData:[],networkInstanceData:[],dNetworkInstanceData:[],pfcpendpointData:[],gtpuEndpointData:[],applicationsData:[],ipPoolData:[],route_table:p,net_interface:l,nwi:f}},created:function(){this.getUpfServiceInstance()},methods:{getUpfServiceInstance:function(){var e=this;this.getServiceInstance("upf").then((function(t){e.options=t.hosts,e.options.length>0&&(e.instanceValue=e.options[0].instanceId,e.getUpfManage())})).catch((function(t){e.$alert(t,"网络请求发生错误",{confirmButtonText:"确定",callback:function(e){}})}))},getUpfManage:function(){var e=this;if(""!=this.instanceValue){this.tabLoading=!0,console.log("当前选中的tab,",this.tab);var t={request_type:this.tab+" get",instance_id:this.instanceValue,sequence_no:1e3};Object(o["i"])(t).then((function(t){console.log("此时请求列表res",t),e.tabLoading=!1,!0===t.status?e.dealConfig(t.data):e.$message.error(t.error||"网络错误，请稍后再试"+t)})).catch((function(t){e.tabLoading=!1,console.log("error:",t),e.$alert(t,"网络请求发生错误",{confirmButtonText:"确定",callback:function(e){}})}))}else this.$message.warning("请先选择实例")},dealConfig:function(e){switch(this.tab){case"cpe configuration":this.cpe=e[0];break;case"dpe configuration":this.dpe=e[0];break;case"route table":this.routeData=e;break;case"net interface":this.netInterfaceData=e;break;case"nwi":this.nwiData=e;break;case"network instance":this.networkInstanceData=e;break;case"default network instance":this.dNetworkInstanceData=e;break;case"pfcp endpoint":this.pfcpendpointData=e;break;case"gtpu endpoint":this.gtpuEndpointData=e;break;case"applications":this.applicationsData=e;break;case"ip pool":this.ipPoolData=e;break;case"flow timeout":console.log(e);break;case"cpe n4 listen address":console.log(e);break}},clickTab:function(e){console.log("tab--",e),console.log("切换的tab",this.tab),this.getUpfManage()},onSubmitCpe:function(){var e=this;if(console.log("cpe",this.tab),"cpe configuration"===this.tab)for(var t in this.cpe){if(""===this.cpe[t])return void Object(s["Message"])({message:"请填入"+this.cpe[t],type:"error"});if("NaN"===Number(this.cpe[t]))return void Object(s["Message"])({message:this.cpe[t]+"请输入数字类型",type:"error"});this.cpe[t]=Number(this.cpe[t])}else for(var n in this.dpe){if(("int"===this.dpeType[n].type||"string"===this.dpeType[n].type)&&""===this.dpe[n])return void Object(s["Message"])({message:"请填入"+this.dpe[n],type:"error"});if("int"===this.dpeType[n].type&&"NaN"===Number(this.dpe[n]))return void Object(s["Message"])({message:this.dpe[n]+"请输入数字类型",type:"error"});"int"===this.dpeType[n].type&&"NaN"!==Number(this.dpe[n])&&(this.dpe[n]=Number(this.dpe[n]))}var a={request_type:this.tab+" set",instance_id:this.instanceValue,sequence_no:1e3,data:[this.cpe]};Object(o["z"])(a).then((function(t){!0===t.status?(e.$message.success("设置成功"),console.log("获取的dpe和cpe",e[e.tab])):e.$message.error(t.error||"网络错误，请稍后再试")}))}}},O=D,j=(n("86dc"),Object(_["a"])(O,a,r,!1,null,"461b2a4e",null));t["default"]=j.exports},fcd0:function(e,t,n){"use strict";n.d(t,"k",(function(){return v})),n.d(t,"q",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"a",(function(){return k})),n.d(t,"B",(function(){return w})),n.d(t,"i",(function(){return D})),n.d(t,"z",(function(){return O})),n.d(t,"s",(function(){return j})),n.d(t,"r",(function(){return x})),n.d(t,"x",(function(){return P})),n.d(t,"t",(function(){return I})),n.d(t,"w",(function(){return C})),n.d(t,"v",(function(){return N})),n.d(t,"u",(function(){return E})),n.d(t,"g",(function(){return V})),n.d(t,"y",(function(){return q})),n.d(t,"b",(function(){return S})),n.d(t,"h",(function(){return T})),n.d(t,"e",(function(){return $})),n.d(t,"m",(function(){return L})),n.d(t,"c",(function(){return M})),n.d(t,"j",(function(){return U})),n.d(t,"d",(function(){return F})),n.d(t,"l",(function(){return z})),n.d(t,"n",(function(){return A})),n.d(t,"A",(function(){return B})),n.d(t,"o",(function(){return J})),n.d(t,"p",(function(){return R}));var a=n("9bd2"),r=n("4360"),o=n("bc3a"),i=n.n(o),s=n("a18c"),c=n("5c96"),u=n("c276"),p=n("d8af"),l=n("e302");function f(e){r["a"].dispatch("d2admin/log/add",{type:"error",err:e,info:"数据请求异常"}),Object(c["Message"])({message:e.message,type:"error",duration:5e3})}var d=i.a.create({baseURL:"http://holer.cc:50633",timeout:2e4});d.interceptors.request.use((function(e){if(!l["a"].access(e,r["a"]))throw{type:"403",config:e};return p["a"].show(e),e}),(function(e){console.log(e),Promise.reject(e)})),d.interceptors.response.use((function(e){p["a"].hide(e.config);var t=e.data;return t}),(function(e){return console.log("rrr",e),p["a"].hide(e.config),e.response&&401===e.response.status?(u["a"].cookies.remove(),-1===e.config.url.indexOf("logout")&&Object(c["Message"])({message:"登陆信息已过期,请重新登陆!",type:"error",duration:3e3}),setTimeout((function(){u["a"].cookies.remove("token"),u["a"].cookies.remove("uuid"),s["a"].push({name:"login"})}),1e3)):e.response&&500===e.response.status?f(new Error("服务器错误!: ".concat(e.config.url,", code = ").concat(e.response.status))):e.message&&e.message.indexOf("timeout")>-1?f(new Error("网络超时!: ".concat(e.config.url))):"403"===e.type?f(new Error("没有请求权限!: ".concat(e.config.url))):f(new Error("网络错误!: ".concat(e.config.url))),Promise.reject(e)}));var m=d;function b(e){r["a"].dispatch("d2admin/log/add",{type:"error",err:e,info:"数据请求异常"}),Object(c["Message"])({message:e.message,type:"error",duration:5e3})}var g=i.a.create({baseURL:"http://holer.cc:50631",timeout:2e4});g.interceptors.request.use((function(e){if(!l["a"].access(e,r["a"]))throw{type:"403",config:e};if(p["a"].show(e),!/^https:\/\/|http:\/\//.test(e.url)){var t=u["a"].cookies.get("token");t&&"undefined"!==t&&(e.headers["Authorization"]="Bearer "+t)}return e}),(function(e){console.log(e),Promise.reject(e)})),g.interceptors.response.use((function(e){p["a"].hide(e.config);var t=e.data;return t.statusCode&&200!==t.statusCode?(Object(c["Message"])({message:t.message,type:"error",duration:3e3}),Promise.reject(t.message)):(console.log("===>res",t),t)}),(function(e){return console.log(e),p["a"].hide(e.config),e.response&&401===e.response.status?(u["a"].cookies.remove(),-1===e.config.url.indexOf("logout")&&Object(c["Message"])({message:"登陆信息已过期,请重新登陆!",type:"error",duration:3e3}),setTimeout((function(){u["a"].cookies.remove("token"),u["a"].cookies.remove("uuid"),s["a"].push({name:"login"})}),1e3)):e.response&&500===e.response.status?b(new Error("服务器错误!: ".concat(e.config.url,", code = ").concat(e.response.status))):e.message&&e.message.indexOf("timeout")>-1?b(new Error("网络超时!: ".concat(e.config.url))):"403"===e.type?b(new Error("没有请求权限!: ".concat(e.config.url))):b(new Error("网络错误!: ".concat(e.config.url))),Promise.reject(e)}));var h=g;function v(e){return m({url:"/nacos/v1/ns/instance/list",method:"get",params:e})}function y(e){return m({url:"/nacos/v1/ns/service/list",method:"get",params:e})}function _(e){return m({url:"/nacos/v1/ns/instance",method:"delete",params:e})}function k(e){return m({url:"/nacos/v1/ns/instance",method:"post",data:e})}function w(e){return m({url:"/nacos/v1/ns/instance",method:"put",data:e})}function D(e){return h({url:"/api/upf/nfom/v1.0/config/get",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function O(e){return h({url:"/api/upf/nfom/v1.0/config/set",method:"post",data:e})}function j(e){return Object(a["a"])({url:"/api/upf/nfom/v1.0/load/hardwareload",method:"post",data:e})}function x(e){return Object(a["a"])({url:"/api/upf/nfom/v1.0/load/sessionsload",method:"post",data:e})}function P(e){return Object(a["a"])({url:"/api/upf/nfom/v1.0/info/baseinfo",method:"post",data:e})}function I(e){return Object(a["a"])({url:"/api/upf/nfom/v1.0/info/dpinfo",method:"post",data:e})}function C(e){return Object(a["a"])({url:"/api/upf/nfom/v1.0/info/n9info",method:"post",data:e})}function N(e){return Object(a["a"])({url:"/api/upf/nfom/v1.0/info/n6info",method:"post",data:e})}function E(e){return Object(a["a"])({url:"/api/upf/nfom/v1.0/info/n3info",method:"post",data:e})}function V(e){return Object(a["a"])({url:"/api/upf/nfom/v1.0/alarm/get",method:"post",data:e})}function q(e){return Object(a["a"])({url:"/api/upf/nfom/v1.0/alarm/set",method:"post",data:e})}function S(e){return Object(a["a"])({url:"/api/upf/starsine/v1.0/alarm/overload/del",method:"post",data:e})}function T(e){return Object(a["a"])({url:"/api/upf/starsine/v1.0/alarm/overload/get",method:"post",data:e})}function $(e){return Object(a["a"])({url:"/api/upf/starsine/v1.0/alarm/linkbroken/del",method:"post",data:e})}function L(e){return Object(a["a"])({url:"/api/upf/starsine/v1.0/alarm/linkbroken/get",method:"post",data:e})}function M(e){return Object(a["a"])({url:"/api/upf/starsine/v1.0/alarm/configmiss/del",method:"post",data:e})}function U(e){return Object(a["a"])({url:"/api/upf/starsine/v1.0/alarm/configmiss/get",method:"post",data:e})}function F(e){return Object(a["a"])({url:"/api/upf/starsine/v1.0/alarm/licenseproblem/del",method:"post",data:e})}function z(e){return Object(a["a"])({url:"/api/upf/starsine/v1.0/alarm/licenseproblem/get",method:"post",data:e})}function A(e){return Object(a["a"])({url:"/api/upf/starsine/v1.0/perform/config/get",method:"post",data:e})}function B(e){return Object(a["a"])({url:"/api/upf/starsine/v1.0/perform/config/set",method:"post",data:e})}function J(e){return Object(a["a"])({url:"/api/upf/starsine/v1.0/perform/pfcp/get",method:"post",data:e})}function R(e){return Object(a["a"])({url:"/api/upf/starsine/v1.0/perform/qos/get",method:"post",data:e})}}}]);
//# sourceMappingURL=chunk-17f3ad10.09aea826.js.map