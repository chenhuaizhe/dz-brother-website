{"version":3,"sources":["webpack:///./src/pages/nms_sys/alarmInfo/alarm.vue?f98c","webpack:///./src/pages/nms_sys/compoents/instenceSelect.vue?ace2","webpack:///src/pages/nms_sys/compoents/instenceSelect.vue","webpack:///./src/pages/nms_sys/compoents/instenceSelect.vue?372f","webpack:///./src/pages/nms_sys/compoents/instenceSelect.vue","webpack:///src/pages/nms_sys/alarmInfo/alarm.vue","webpack:///./src/pages/nms_sys/alarmInfo/alarm.vue?159a","webpack:///./src/pages/nms_sys/alarmInfo/alarm.vue","webpack:///./src/plugin/axios/deviceAxios.js","webpack:///./src/plugin/axios/setAxios.js","webpack:///./src/api/demo/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","slot","attrs","on","changeInstance","staticClass","_v","staticStyle","setClick","directives","name","rawName","value","expression","tableData","indexMethod","totalRows","currentPage","$event","handleCurrentChange","dialogVisible","handleClose","ref","form","rules","model","callback","$$v","$set","_n","submitConfig","staticRenderFns","changeService","serviceName","_l","item","key","instanceValue","index","instanceId","split","props","isupf","type","Boolean","default","data","serviceOptions","instanceOptions","mounted","getService","methods","pageNo","pageSize","val","getServiceInstance","$emit","component","components","timer","isFirst","timerInterval","alarm_switch","alarm_mem_threshold","alarm_cpu_threshold","alarm_hd_threshold","overload","cpu_load","mem_load","hd_load","linkbroken","chartOption","loading","getOverload","setTimer","setInterval","console","log","getAlarmConfig","request_type","instance_id","sequence_no","deleteClick","$confirm","distinguishCancelAndClose","confirmButtonText","cancelButtonText","destroyed","clearInterval","errorLog","err","store","dispatch","info","Message","message","duration","service","axios","create","baseURL","process","timeout","interceptors","request","use","config","permission","access","show","error","Promise","reject","response","hide","res","status","util","cookies","remove","url","indexOf","setTimeout","router","push","Error","test","token","get","headers","statusCode","fetchGetInstanceList","query","fetch1","method","params","fetchGetServiceList","fetchDeleteInstance","fetchAddInstance","parmas","fetchUpdateInstance","fetchGetConfig","fetch2","fetchSetConfig","fetchGetUpfLoad","fetch","fetchGetUpfBusinessVolume","fetchQueryUPFBaseInfo","fetchQueryDPInfo","fetchQueryN9Info","fetchQueryN6Info","fetchQueryN3Info","fetchGetAlarmConfig","fetchSetAlarmConfig","fetchDelAlarmOvcerLoad","fetchGetAlarmOverLoad","offset","fetchDelLinkbroken","fetchGetLinkbroken","fetchDelConfigmiss","fetchGetConfigmiss","fetchDelLicense","fetchGetLicense","fetchGetPerformConfig","fetchSetPerformConfig","fetchGetPfcp","fetchGetQosFlow","fetchGetPerformN3","fetchGetPerformN6","fetchGetPerformN9","fetchGetUldlthp","fetchGetPhyload"],"mappings":"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","file":"js/chunk-08c36dd3.a8b35e03.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('d2-container',[_c('template',{slot:\"header\"},[_c('instence-select',{attrs:{\"isupf\":false},on:{\"changeInstence\":_vm.changeInstance}})],1),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"过载告警\")]),_c('div',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.setClick}},[_vm._v(\"告警配置\")])],1)]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.tableData,\"size\":\"small\",\"stripe\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"index\":_vm.indexMethod,\"width\":\"50\",\"label\":\"序号\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"crt_time\",\"label\":\"时间\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"cpu_load\",\"label\":\"当前CPU负载值（单位%）\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"mem_load\",\"label\":\"当前内存负载值（单位%）\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"hd_load\",\"label\":\"当前硬盘负载值（单位%）\"}})],1)],1),_c('br'),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.totalRows,\"current-page\":_vm.currentPage},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":\"告警配置\",\"visible\":_vm.dialogVisible,\"width\":\"600px\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"告警开关\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:(_vm.form.alarm_switch),callback:function ($$v) {_vm.$set(_vm.form, \"alarm_switch\", $$v)},expression:\"form.alarm_switch\"}})],1),_c('el-form-item',{attrs:{\"label\":\"CPU告警值\"}},[_c('el-input',{model:{value:(_vm.form.alarm_hd_threshold),callback:function ($$v) {_vm.$set(_vm.form, \"alarm_hd_threshold\", _vm._n($$v))},expression:\"form.alarm_hd_threshold\"}})],1),_c('el-form-item',{attrs:{\"label\":\"内存告警值\"}},[_c('el-input',{model:{value:(_vm.form.alarm_cpu_threshold),callback:function ($$v) {_vm.$set(_vm.form, \"alarm_cpu_threshold\", _vm._n($$v))},expression:\"form.alarm_cpu_threshold\"}})],1),_c('el-form-item',{attrs:{\"label\":\"硬盘告警值\"}},[_c('el-input',{model:{value:(_vm.form.alarm_mem_threshold),callback:function ($$v) {_vm.$set(_vm.form, \"alarm_mem_threshold\", _vm._n($$v))},expression:\"form.alarm_mem_threshold\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitConfig}},[_vm._v(\"确 定\")])],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-select',{attrs:{\"placeholder\":\"请选择服务\",\"size\":\"small\",\"filterable\":\"\",\"clearable\":\"\"},on:{\"change\":_vm.changeService},model:{value:(_vm.serviceName),callback:function ($$v) {_vm.serviceName=$$v},expression:\"serviceName\"}},_vm._l((_vm.serviceOptions),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1),_c('el-select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请选择您的实例\",\"size\":\"small\",\"filterable\":\"\",\"clearable\":\"\"},on:{\"change\":_vm.changeInstance},model:{value:(_vm.instanceValue),callback:function ($$v) {_vm.instanceValue=$$v},expression:\"instanceValue\"}},_vm._l((_vm.instanceOptions),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.instanceId.split('#')[0],\"value\":item.instanceId}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <el-select\n        v-model=\"serviceName\"\n        placeholder=\"请选择服务\"\n        size=\"small\"\n        @change=\"changeService\"\n        filterable\n        clearable\n      >\n        <el-option\n          v-for=\"item in serviceOptions\"\n          :key=\"item\"\n          :label=\"item\"\n          :value=\"item\"\n        >\n        </el-option>\n      </el-select>\n\n      <el-select\n        v-model=\"instanceValue\"\n        placeholder=\"请选择您的实例\"\n        size=\"small\"\n        @change=\"changeInstance\"\n        filterable\n        clearable\n        style=\"width: 200px\"\n      >\n        <el-option\n          v-for=\"(item, index) in instanceOptions\"\n          :key=\"index\"\n          :label=\"item.instanceId.split('#')[0]\"\n          :value=\"item.instanceId\"\n        >\n        </el-option>\n      </el-select>\n</div>\n</template>\n\n<script>\nimport {\n  fetchGetServiceList,\n  fetchGetInstanceList\n} from \"@/api/demo/index\";\nexport default {\n  name: \"instenceSelect\",\n  props: {\n    isupf: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      serviceName: \"\",\n      serviceOptions: [],\n      instanceOptions: [], //upf下面的实例\n      instanceValue: \"\", //当前选中的实例\n      // isFirst: true\n    }\n  },\n  // computed: {\n  //   getdata(){\n  //     return this.$store.state.serviceName\n  //   }\n  // },\n  mounted() {\n    this.getService();\n  },\n  methods: {\n    // 获取服务列表\n    getService() {\n      fetchGetServiceList({\n        pageNo: 1,\n        pageSize: 50,\n      })\n        .then((response) => {\n          console.log(response);\n          this.serviceOptions = response.doms.filter(\n            (item) => !item.startsWith(\"ace\")\n          );\n          if (this.serviceOptions.length > 0) {\n            this.serviceName = this.serviceOptions[0];\n            this.getServiceInstance(this.serviceName);\n          }\n        })\n        .catch((e) => {\n          console.log(e);\n          this.$alert(e, \"网络请求发生错误\", {\n            confirmButtonText: \"确定\",\n            callback: (action) => {},\n          });\n        });\n    },\n    // 选择服务\n    changeService(val) {\n      if (!val) {\n        return;\n      }\n      this.getServiceInstance(val);\n    },\n    // 选择实例\n    changeInstance(val) {\n      this.$emit('changeInstence', val)\n    },\n    //获取服务下面的实例\n    getServiceInstance(serviceName) {\n      fetchGetInstanceList({ serviceName: serviceName })\n        .then((res) => {\n          this.instanceOptions = res.hosts;\n          // if (this.isFirst === true && this.instanceOptions.length > 0) {\n          if (this.instanceOptions.length > 0) {\n            this.instanceValue = this.instanceOptions[0].instanceId;\n            this.changeInstance(this.instanceValue);\n          }\n          // this.isFirst = false;\n        })\n        .catch((e) => {\n          console.log(e);\n          this.$alert(e, \"网络请求发生错误\", {\n            confirmButtonText: \"确定\",\n            callback: (action) => {},\n          });\n        });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./instenceSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./instenceSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./instenceSelect.vue?vue&type=template&id=c5fd525a&\"\nimport script from \"./instenceSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./instenceSelect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// 过载告警页面\n\n<template>\n  <d2-container>\n    <template slot=\"header\">\n      <instence-select :isupf=\"false\" @changeInstence=\"changeInstance\"></instence-select>\n    </template>\n\n    <el-card class=\"box-card\">\n      <div slot=\"header\" class=\"clearfix\">\n        <span>过载告警</span>\n        <div style=\"float: right; padding: 3px 0\">\n          <el-button size=\"mini\" type=\"primary\" plain @click=\"setClick\"\n            >告警配置</el-button\n          >\n        </div>\n        <!-- <div style=\"float: right; padding: 3px 6px\">\n          <el-button size=\"mini\" type=\"danger\" plain @click=\"deleteClick\"\n            >告警清除</el-button\n          >\n        </div> -->\n      </div>\n\n      <el-table\n        v-loading=\"loading\"\n        :data=\"tableData\"\n        size=\"small\"\n        stripe\n        highlight-current-row\n        style=\"width: 100%; margin-top: 20px\"\n      >\n        <el-table-column\n          type=\"index\"\n          :index=\"indexMethod\"\n          width=\"50\"\n          label=\"序号\"\n        ></el-table-column>\n        <!-- <el-table-column align=\"center\" prop=\"id\" label=\"ID\"></el-table-column> -->\n        <el-table-column\n          align=\"center\"\n          prop=\"crt_time\"\n          label=\"时间\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          prop=\"cpu_load\"\n          label=\"当前CPU负载值（单位%）\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          prop=\"mem_load\"\n          label=\"当前内存负载值（单位%）\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          prop=\"hd_load\"\n          label=\"当前硬盘负载值（单位%）\"\n        ></el-table-column>\n      </el-table>\n    </el-card>\n    <br />\n    <el-pagination\n      background\n      layout=\"prev, pager, next\"\n      :total=\"totalRows\"\n      :current-page.sync=\"currentPage\"\n      @current-change=\"handleCurrentChange\"\n    >\n    </el-pagination>\n    <el-dialog\n      title=\"告警配置\"\n      :visible.sync=\"dialogVisible\"\n      width=\"600px\"\n      :before-close=\"handleClose\"\n    >\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"110px\">\n        <el-form-item label=\"告警开关\">\n          <el-switch\n            v-model=\"form.alarm_switch\"\n            active-color=\"#13ce66\"\n            inactive-color=\"#ff4949\"\n          ></el-switch>\n        </el-form-item>\n        <el-form-item label=\"CPU告警值\">\n          <el-input v-model.number=\"form.alarm_hd_threshold\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"内存告警值\">\n          <el-input v-model.number=\"form.alarm_cpu_threshold\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"硬盘告警值\">\n          <el-input v-model.number=\"form.alarm_mem_threshold\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitConfig\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </d2-container>\n</template>\n\n<script>\nimport {\n  fetchGetAlarmConfig,\n  fetchSetAlarmConfig,\n  fetchGetAlarmOverLoad,\n  fetchDelAlarmOvcerLoad,\n} from \"@/api/demo/index\";\nimport instenceSelect from '../compoents/instenceSelect.vue';\nexport default {\n  components: { instenceSelect },\n  name: \"alarm\",\n  data() {\n    return {\n      totalRows: 0,\n      currentPage: 1,\n      tableData: [],\n      instanceValue: \"\", //当前选中的实例\n      timer: null,\n      isFirst: true,\n      timerInterval: 10000,\n      dialogVisible: false,\n      form: {\n        alarm_switch: false,\n        alarm_mem_threshold: null,\n        alarm_cpu_threshold: null,\n        alarm_hd_threshold: null,\n      },\n      rules: {\n        alarm_mem_threshold: [\n          { required: false, message: \"请输入\", trigger: \"blur\" },\n          { type: \"number\", message: \"必须输入数字\", trigger: \"change\" },\n        ],\n        alarm_hd_threshold: [\n          { required: false, message: \"请输入\", trigger: \"blur\" },\n          { type: \"number\", message: \"必须输入数字\", trigger: \"blur\" },\n        ],\n        alarm_hd_threshold: [\n          { required: false, message: \"请输入\", trigger: \"blur\" },\n          { type: \"number\", message: \"必须输入数字\", trigger: \"blur\" },\n        ],\n      },\n      overload: {\n        cpu_load: 0,\n        mem_load: 0,\n        hd_load: 0,\n      },\n      linkbroken: {},\n      chartOption: [],\n      loading: false,\n    };\n  },\n  mounted() {\n    // this.getService();\n    // this.drawLine();\n  },\n  methods: {\n    // 选择实例\n    changeInstance(val) {\n      this.instanceValue = val\n      this.getOverload();\n      // //清除定时并重启\n      // if (this.timer) {\n      //   clearInterval(this.timer);\n      //   this.timer = null;\n      //   // this.setTimer();\n      // } else {\n      //   // this.setTimer();\n      // }\n    },\n    setTimer() {\n      if (this.timer == null) {\n        this.timer = setInterval(() => {\n          console.log(\"开始定时...每过一-执行一次\");\n          this.getOverload();\n        }, this.timerInterval);\n      }\n    },\n    setClick() {\n      this.getAlarmConfig();\n      this.dialogVisible = true;\n    },\n    // 获取过载告警数据\n    getOverload() {\n      this.loading = true;\n      console.log();\n      fetchGetAlarmOverLoad(\n        {\n          request_type: \"alarm get\",\n          instance_id: this.instanceValue,\n          sequence_no: 33431,\n        },\n        this.currentPage\n      )\n        .then((response) => {\n          this.loading = false;\n          console.log(\"alarm get:\", response);\n          if (response == null) {\n            return;\n          }\n          this.tableData = response.rows;\n          this.totalRows = response.total;\n        })\n        .catch((e) => {\n          this.loading = false;\n          console.log(e);\n          this.$alert(e, \"网络请求发生错误\", {\n            confirmButtonText: \"确定\",\n            callback: (action) => {},\n          });\n        });\n    },\n    indexMethod(index) {\n      return (this.currentPage - 1) * 10 + index;\n    },\n    //分页按钮的触发事件\n    handleCurrentChange() {\n      this.getOverload();\n    },\n    getAlarmConfig() {\n      fetchGetAlarmConfig({\n        request_type: \"alarm get\",\n        instance_id: this.instanceValue,\n        sequence_no: 3342,\n      })\n        .then((response) => {\n          this.form = response;\n        })\n        .catch((e) => {\n          console.log(e);\n          this.$alert(e, \"网络请求发生错误\", {\n            confirmButtonText: \"确定\",\n            callback: (action) => {},\n          });\n        });\n    },\n\n    handleClose() {\n      this.dialogVisible = false;\n    },\n    submitConfig() {\n      this.dialogVisible = false;\n      fetchSetAlarmConfig({\n        request_type: \"alarm set\",\n        instance_id: this.instanceValue,\n        sequence_no: 3001,\n        data: this.form,\n      })\n        .then((response) => {})\n        .catch((e) => {\n          console.log(e);\n          this.$alert(e, \"网络请求发生错误\", {\n            confirmButtonText: \"确定\",\n            callback: (action) => {},\n          });\n        });\n    },\n    // 告警清除\n    deleteClick() {\n      this.$confirm(\"是否清除数据？\", \"确认信息\", {\n        distinguishCancelAndClose: true,\n        confirmButtonText: \"确认\",\n        cancelButtonText: \"取消\",\n      })\n        .then(() => {\n          this.loading = true;\n          fetchDelAlarmOvcerLoad({\n            request_type: \"alarm del\",\n            instance_id: this.instanceValue,\n            sequence_no: 33432,\n          })\n            .then((response) => {\n              this.loading = false;\n              this.$message({\n                type: \"su\",\n                message: \"操作成功\",\n              });\n            })\n            .catch((e) => {\n              this.loading = false;\n              console.log(e);\n              this.$alert(e, \"网络请求发生错误\", {\n                confirmButtonText: \"确定\",\n                callback: (action) => {},\n              });\n            });\n        })\n        .catch((action) => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消\",\n          });\n        });\n    },\n  },\n  destroyed: function () {\n    // 每次离开当前界面时，清除定时器\n    clearInterval(this.timer);\n    this.timer = null;\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./alarm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./alarm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./alarm.vue?vue&type=template&id=3ef92c32&\"\nimport script from \"./alarm.vue?vue&type=script&lang=js&\"\nexport * from \"./alarm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import store from '@/store'\nimport axios from 'axios'\nimport router from '@/router/index'\nimport { Message } from 'element-ui'\nimport util from '@/libs/util'\nimport loading from '@/libs/loading'\nimport message from '@/libs/message'\nimport permission from '@/libs/permission'\n\n// 记录和显示错误\nfunction errorLog(err) {\n  // 添加到日志\n  store.dispatch('d2admin/log/add', {\n    type: 'error',\n    err,\n    info: '数据请求异常'\n  })\n  // 打印到控制台\n  if (process.env.NODE_ENV === 'development') {\n    util.log.danger('>>>>>> Error >>>>>>')\n    console.log(err)\n  }\n  // 显示提示\n  Message({\n    message: err.message,\n    type: 'error',\n    duration: 5 * 1000\n  })\n}\n\n// 创建一个 axios 实例\nconst service = axios.create({\n  baseURL: process.env.VUE_APP_DEVICE_API,\n  timeout: 20000 // 请求超时时间\n})\n\n// 请求拦截器\nservice.interceptors.request.use(\n  config => {\n    if (!permission.access(config, store)) {\n      // eslint-disable-next-line no-throw-literal\n      throw {\n        type: '403',\n        config: config\n      }\n    }\n    loading.show(config)\n    // 在请求发送之前做一些处理\n    // if (!(/^https:\\/\\/|http:\\/\\//.test(config.url))) {\n    //   const token = util.cookies.get('token')\n    //   if (token && token !== 'undefined') {\n    //     // 让每个请求携带token-- ['Authorization']为自定义key 请根据实际情况自行修改\n    //     config.headers['Authorization'] = 'Bearer ' + token\n    //   }\n    // }\n    return config\n  },\n  error => {\n    // 发送失败\n    console.log(error)\n    Promise.reject(error)\n  }\n)\n\n// 响应拦截器\nservice.interceptors.response.use(\n  response => {\n    loading.hide(response.config)\n    const res = response.data\n    // if (res.statusCode !== 200) {\n    //   Message({\n    //     message: res.message,\n    //     type: 'error',\n    //     duration: 3 * 1000\n    //   })\n    //   return Promise.reject(res.message)\n    // } else {\n    //message(response.config)\n    return res\n    // }\n  },\n  error => {\n    console.log('rrr', error)\n    loading.hide(error.config)\n    if (error.response && error.response.status === 401) {\n      util.cookies.remove()\n      if (error.config.url.indexOf('logout') === -1) {\n        Message({\n          message: '登陆信息已过期,请重新登陆!',\n          type: 'error',\n          duration: 3 * 1000\n        })\n      }\n      setTimeout(() => {\n        // 删除cookie\n        util.cookies.remove('token')\n        util.cookies.remove('uuid')\n        // 跳转路由\n        router.push({\n          name: 'login'\n        })\n      }, 1000)\n    } else if (error.response && error.response.status === 500) {\n      errorLog(new Error(`服务器错误!: ${error.config.url}, code = ${error.response.status}`))\n    } else if (error.message && error.message.indexOf('timeout') > -1) {\n      errorLog(new Error(`网络超时!: ${error.config.url}`))\n    } else if (error.type === '403') {\n      errorLog(new Error(`没有请求权限!: ${error.config.url}`))\n    } else {\n      errorLog(new Error(`网络错误!: ${error.config.url}`))\n    }\n    return Promise.reject(error)\n  }\n)\n\nexport default service\n","import store from '@/store'\nimport axios from 'axios'\nimport router from '@/router/index'\nimport { Message } from 'element-ui'\nimport util from '@/libs/util'\nimport loading from '@/libs/loading'\nimport permission from '@/libs/permission'\n\n// 记录和显示错误\nfunction errorLog(err) {\n  // 添加到日志\n  store.dispatch('d2admin/log/add', {\n    type: 'error',\n    err,\n    info: '数据请求异常'\n  })\n  // 打印到控制台\n  if (process.env.NODE_ENV === 'development') {\n    util.log.danger('>>>>>> Error >>>>>>')\n    console.log(err)\n  }\n  // 显示提示\n  Message({\n    message: err.message,\n    type: 'error',\n    duration: 5 * 1000\n  })\n}\n\n// 创建一个 axios 实例\nconst service = axios.create({\n  baseURL: process.env.VUE_APP_API,\n  timeout: 20000 // 请求超时时间\n})\n\n// 请求拦截器\nservice.interceptors.request.use(\n  config => {\n    if (!permission.access(config, store)) {\n      // eslint-disable-next-line no-throw-literal\n      throw {\n        type: '403',\n        config: config\n      }\n    }\n    loading.show(config)\n    // 在请求发送之前做一些处理\n    if (!(/^https:\\/\\/|http:\\/\\//.test(config.url))) {\n      const token = util.cookies.get('token')\n      // config.headers['Content-Type'] = 'application/json'\n      if (token && token !== 'undefined') {\n        // 让每个请求携带token-- ['Authorization']为自定义key 请根据实际情况自行修改\n        config.headers['Authorization'] = 'Bearer ' + token\n      }\n    }\n    return config\n  },\n  error => {\n    // 发送失败\n    console.log(error)\n    Promise.reject(error)\n  }\n)\n\n// 响应拦截器\nservice.interceptors.response.use(\n  response => {\n    loading.hide(response.config)\n    const res = response.data\n    if (res.statusCode && res.statusCode !== 200) {\n      Message({\n        message: res.message,\n        type: 'error',\n        duration: 3 * 1000\n      })\n      return Promise.reject(res.message)\n    } else {\n      // message(response.config)\n      console.log('===>res', res)\n      return res\n    }\n  },\n  error => {\n    console.log(error)\n    loading.hide(error.config)\n    if (error.response && error.response.status === 401) {\n      util.cookies.remove()\n      if (error.config.url.indexOf('logout') === -1) {\n        Message({\n          message: '登陆信息已过期,请重新登陆!',\n          type: 'error',\n          duration: 3 * 1000\n        })\n      }\n      setTimeout(() => {\n        // 删除cookie\n        util.cookies.remove('token')\n        util.cookies.remove('uuid')\n        // 跳转路由\n        router.push({\n          name: 'login'\n        })\n      }, 1000)\n    } else if (error.response && error.response.status === 500) {\n      errorLog(new Error(`服务器错误!: ${error.config.url}, code = ${error.response.status}`))\n    } else if (error.message && error.message.indexOf('timeout') > -1) {\n      errorLog(new Error(`网络超时!: ${error.config.url}`))\n    } else if (error.type === '403') {\n      errorLog(new Error(`没有请求权限!: ${error.config.url}`))\n    } else {\n      errorLog(new Error(`网络错误!: ${error.config.url}`))\n    }\n    return Promise.reject(error)\n  }\n)\n\nexport default service\n","import fetch from '@/plugin/axios'\nimport fetch1 from '@/plugin/axios/deviceAxios'\nimport fetch2 from '@/plugin/axios/setAxios'\n\n/**\n * 设备管理 服务实例列表请求\n * @param {*} query\n */\nexport function fetchGetInstanceList(query) {\n  return fetch1({\n    url: '/nacos/v1/ns/instance/list',\n    method: 'get',\n    params: query\n  })\n}\n/**\n * 设备管理 获取服务列表请求\n * @param {*} query\n */\nexport function fetchGetServiceList(query) {\n  return fetch1({\n    url: '/nacos/v1/ns/service/list',\n    method: 'get',\n    params: query\n  })\n}\n/**\n * 设备管理 删除服务实例\n * @param {*} query\n */\nexport function fetchDeleteInstance(query) {\n  return fetch1({\n    url: '/nacos/v1/ns/instance',\n    method: 'delete',\n    params: query\n  })\n}\n/**\n * 设备管理 添加服务实例\n * @param {*} query\n */\nexport function fetchAddInstance(parmas) {\n  return fetch1({\n    url: '/nacos/v1/ns/instance',\n    method: 'post',\n    data: parmas\n  })\n}\n/**\n * 设备管理 编辑服务实例\n * @param {*} query\n */\nexport function fetchUpdateInstance(parmas) {\n  return fetch1({\n    url: '/nacos/v1/ns/instance',\n    method: 'put',\n    data: parmas\n  })\n}\n\n//============================= 配置管理 ==================================\n\n/**\n * 配置管理DPE Configuration和CPE Configuration 请求\n * @param {*} query\n */\nexport function fetchGetConfig(query) {\n  return fetch2({\n    url: '/api/upf/nfom/v1.0/config/get',\n    method: 'post',\n    data: query,\n    headers: { 'Content-Type': 'application/json;charset=UTF-8' }\n  })\n}\n/**\n * 配置管理DPE Configuration和CPE Configuration设置\n * @param {*} query\n */\nexport function fetchSetConfig(query) {\n  return fetch2({\n    url: '/api/upf/nfom/v1.0/config/set',\n    method: 'post',\n    data: query\n  })\n}\n//============================= 统计 ==================================\n\n/**\n * 统计模块 负载查询\n * @param {*} query\n */\nexport function fetchGetUpfLoad(parmas) {\n  return fetch({\n    url: '/api/upf/nfom/v1.0/load/hardwareload',\n    method: 'post',\n    data: parmas\n  })\n}\n/**\n * 统计模块 业务量查询\n * @param {*} query\n */\nexport function fetchGetUpfBusinessVolume(parmas) {\n  return fetch({\n    url: '/api/upf/nfom/v1.0/load/sessionsload',\n    method: 'post',\n    data: parmas\n  })\n}\n\n/**\n * 统计模块 网元信息查询\n * @param {*} query\n */\nexport function fetchQueryUPFBaseInfo(parmas) {\n  return fetch({\n    url: '/api/upf/nfom/v1.0/info/baseinfo',\n    method: 'post',\n    data: parmas\n  })\n}\n\n/**\n* 统计模块 用户面功能信息查询\n* @param {*} query\n*/\nexport function fetchQueryDPInfo(parmas) {\n  return fetch({\n    url: '/api/upf/nfom/v1.0/info/dpinfo',\n    method: 'post',\n    data: parmas\n  })\n}\n\n/**\n * 统计模块 分局向的N9接口信息查询\n * @param {*} query\n */\nexport function fetchQueryN9Info(parmas) {\n  return fetch({\n    url: '/api/upf/nfom/v1.0/info/n9info',\n    method: 'post',\n    data: parmas\n  })\n}\n\n/**\n* 统计模块 分局向的N6接口信息查询\n* @param {*} query\n*/\nexport function fetchQueryN6Info(parmas) {\n  return fetch({\n    url: '/api/upf/nfom/v1.0/info/n6info',\n    method: 'post',\n    data: parmas\n  })\n}\n\n/**\n * 统计模块 分局向的N3接口信息查询\n * @param {*} query\n */\nexport function fetchQueryN3Info(parmas) {\n  return fetch({\n    url: '/api/upf/nfom/v1.0/info/n3info',\n    method: 'post',\n    data: parmas\n  })\n}\n\n//============================= 告警 ==================================\n\n/**\n * 告警模块 告警配置查询\n * @param {*} query\n */\nexport function fetchGetAlarmConfig(parmas) {\n  return fetch({\n    url: '/api/upf/nfom/v1.0/alarm/get',\n    method: 'post',\n    data: parmas\n  })\n}\n/**\n * 告警模块 告警配置设置\n * @param {*} query\n */\nexport function fetchSetAlarmConfig(parmas) {\n  return fetch({\n    url: '/api/upf/nfom/v1.0/alarm/set',\n    method: 'post',\n    data: parmas\n  })\n}\n/**\n * 告警模块 清除告警\n * @param {*} query\n */\nexport function fetchDelAlarmOvcerLoad(parmas) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/alarm/overload/del',\n    method: 'post',\n    data: parmas\n  })\n}\n/**\n * 告警模块 获取过载数据\n * @param {*} query\n */\nexport function fetchGetAlarmOverLoad(parmas, offset) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/alarm/overload/get?offset=' + offset,\n    method: 'post',\n    data: parmas\n  })\n}\n/**\n * 告警模块 清除断链告警\n * @param {*} query\n */\nexport function fetchDelLinkbroken(parmas) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/alarm/linkbroken/del',\n    method: 'post',\n    data: parmas\n  })\n}\n/**\n * 告警模块 获取断链告警数据\n * @param {*} query\n */\nexport function fetchGetLinkbroken(parmas, offset) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/alarm/linkbroken/get?offset=' + offset,\n    method: 'post',\n    data: parmas\n  })\n}\n\n/**\n * 告警模块 配置错误\n * @param {*} query\n */\nexport function fetchDelConfigmiss(parmas) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/alarm/configmiss/del',\n    method: 'post',\n    data: parmas\n  })\n}\n/**\n * 告警模块 配置错误\n * @param {*} query\n */\nexport function fetchGetConfigmiss(parmas, offset) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/alarm/configmiss/get?offset=' + offset,\n    method: 'post',\n    data: parmas\n  })\n}\n\n\n/**\n * 告警模块 License 清除\n * @param {*} query\n */\nexport function fetchDelLicense(parmas) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/alarm/licenseproblem/del',\n    method: 'post',\n    data: parmas\n  })\n}\n/**\n * 告警模块 License\n * @param {*} query\n */\nexport function fetchGetLicense(parmas, offset) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/alarm/licenseproblem/get?offset=' + offset,\n    method: 'post',\n    data: parmas\n  })\n}\n\n//============================ 性能 ===============================\n\n/**\n* 性能模块 性能上报配置查询\n* @param {*} query\n*/\nexport function fetchGetPerformConfig(parmas) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/perform/config/get',\n    method: 'post',\n    data: parmas\n  })\n}\n/**\n * 性能模块 性能上报配置设置\n * @param {*} query\n */\nexport function fetchSetPerformConfig(parmas) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/perform/config/set',\n    method: 'post',\n    data: parmas\n  })\n}\n/**\n * 性能模块 pfcp\n * @param {*} query\n */\nexport function fetchGetPfcp(parmas) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/perform/pfcp/get',\n    method: 'post',\n    data: parmas\n  })\n}\n/**\n * 性能模块 qosFlow\n * @param {*} query\n */\nexport function fetchGetQosFlow(parmas) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/perform/qos/get',\n    method: 'post',\n    data: parmas\n  })\n}\n\n/**\n * 性能模块 N3\n * @param {*} query\n */\nexport function fetchGetPerformN3(parmas) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/perform/n3/get',\n    method: 'post',\n    data: parmas\n  })\n}\n\n/**\n * 性能模块 N6\n * @param {*} query\n */\nexport function fetchGetPerformN6(parmas) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/perform/n6/get',\n    method: 'post',\n    data: parmas\n  })\n}\n\n/**\n * 性能模块 N9\n * @param {*} query\n */\nexport function fetchGetPerformN9(parmas) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/perform/n9/get',\n    method: 'post',\n    data: parmas\n  })\n}\n\n/**\n * 性能模块 上下行吞吐量\n * @param {*} query\n */\nexport function fetchGetUldlthp(parmas) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/perform/uldlthp/get',\n    method: 'post',\n    data: parmas\n  })\n}\n\n/**\n * 性能模块 网元物理性能\n * @param {*} query\n */\nexport function fetchGetPhyload(parmas) {\n  return fetch({\n    url: '/api/upf/starsine/v1.0/perform/phyload/get',\n    method: 'post',\n    data: parmas\n  })\n}\n\n"],"sourceRoot":""}