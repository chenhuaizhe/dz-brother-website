(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4fdd1de8"],{3021:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{attrs:{"label-width":"80px"}},[r("el-form-item",{attrs:{label:"群主|领导"}},[r("el-select",{attrs:{multiple:"",filterable:"",remote:"",placeholder:"请输入关键词","remote-method":e.remoteLeaderMethod,loading:e.loading},model:{value:e.leaders,callback:function(t){e.leaders=t},expression:"leaders"}},e._l(e.lItems,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"组员|下属"}},[r("el-select",{attrs:{multiple:"",filterable:"",remote:"",placeholder:"请输入关键词","remote-method":e.remoteMemberMethod,loading:e.loading},model:{value:e.members,callback:function(t){e.members=t},expression:"members"}},e._l(e.mItems,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",[e.groupManager_btn_userManager?r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]):e._e()],1)],1)},a=[],o=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),i=r("86eb"),s=r("dabb"),l=r("2f62");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={props:{groupId:{default:"1"}},data:function(){return{lItems:[],mItems:[],leaders:[],members:[],list:[],loading:!1,groupManager_btn_userManager:!1}},created:function(){this.initUsers(),this.groupManager_btn_userManager=this.hasPermissions(["groupManager:btn_userManager"])},computed:m({},Object(l["c"])(["elements"])),methods:{remoteMemberMethod:function(e){var t=this;""!==e?(this.loading=!0,this.loading=!1,Object(i["d"])({name:e}).then((function(e){t.mItems=e.rows,t.total=e.total,t.loading=!1}))):this.mItems=[]},remoteLeaderMethod:function(e){var t=this;""!==e?(this.loading=!0,this.loading=!1,Object(i["d"])({name:e}).then((function(e){t.lItems=e.rows,t.total=e.total,t.loading=!1}))):this.lItems=[]},onSubmit:function(){var e=this,t={};this.members.length>0&&(t.members=this.members.join()),this.leaders.length>0&&(t.leaders=this.leaders.join()),Object(s["k"])(this.groupId,t).then((function(){e.$emit("closeUserDialog"),e.$notify({title:"成功",message:"保存成功",type:"success",duration:2e3})}))},initUsers:function(){var e=this;Object(s["i"])(this.groupId).then((function(t){e.lItems=t.leaders,e.mItems=t.members;for(var r=[],n=[],a=0;a<t.members.length;a++)r.push(t.members[a].id);for(var o=0;o<t.leaders.length;o++)n.push(t.leaders[o].id);e.members=r,e.leaders=n}))}}},d=c,b=r("2877"),p=Object(b["a"])(d,n,a,!1,null,null,null);t["default"]=p.exports},"86eb":function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"e",(function(){return l}));var n=r("9bd2");function a(e){return Object(n["a"])({url:"/api/admin/user/page",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/api/admin/user",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/api/admin/user/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/api/admin/user/"+e,method:"delete"})}function l(e,t){return Object(n["a"])({url:"/api/admin/user/"+e,method:"put",data:t})}}}]);
//# sourceMappingURL=chunk-4fdd1de8.c35fda24.js.map