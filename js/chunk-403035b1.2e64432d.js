(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-403035b1"],{"43f4":function(t,e,n){},"5d58":function(t,e,n){t.exports=n("d8d6")},"6ba9":function(t,e,n){"use strict";n("43f4")},7618:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("5d58"),a=n.n(i),s=n("67bb"),r=n.n(s);function o(t){return o="function"===typeof r.a&&"symbol"===typeof a.a?function(t){return typeof t}:function(t){return t&&"function"===typeof r.a&&t.constructor===r.a&&t!==r.a.prototype?"symbol":typeof t},o(t)}},"9aef":function(t,e,n){"use strict";n("e70a")},aca6:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("d2-container",[n("template",{slot:"header"},[n("instence-select",{attrs:{isupf:!0},on:{changeInstence:t.getUpfSelect}})],1),n("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.tabLoading,expression:"tabLoading"}],attrs:{type:"border-card","element-loading-text":"正在向服务器请求数据","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"tab-click":t.clickTab},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("el-tab-pane",{attrs:{label:"路由表项配置",lazy:!0,name:"route table"}},[n("routeConfig",{attrs:{data:t.routeData,label:"路由表项配置",type:"route table",formData:t.route_table,instanceValue:t.instanceValue}})],1),n("el-tab-pane",{attrs:{label:"网络接口配置",lazy:!0,name:"net interface"}},[n("routeConfig",{attrs:{label:"网络接口配置",data:t.netInterfaceData,type:"net interface",formData:t.net_interface,instanceValue:t.instanceValue,routeConfigData:t.routeData}})],1),n("el-tab-pane",{attrs:{label:"数据接口配置",lazy:!0,name:"nwi"}},[n("routeConfig",{attrs:{label:"数据接口配置",data:t.nwiData,type:"nwi",formData:t.nwi,instanceValue:t.instanceValue,routeConfigData:t.routeData}})],1),n("el-tab-pane",{attrs:{label:"网络实例配置",lazy:!0,name:"network instance"}},[n("routeConfig",{attrs:{data:t.networkInstanceData,type:"network instance",instanceValue:t.instanceValue,formData:t.network_instance}})],1),n("el-tab-pane",{attrs:{label:"默认网络实例配置",lazy:!0,name:"default network instance"}},[n("routeConfig",{attrs:{data:t.dNetworkInstanceData,type:"default network instance",formData:t.default_network_instance,instanceValue:t.instanceValue}})],1),n("el-tab-pane",{attrs:{label:"PFCP端点配置",lazy:!0,name:"pfcp endpoint"}},[n("routeConfig",{attrs:{data:t.pfcpendpointData,type:"pfcp endpoint",instanceValue:t.instanceValue,formData:t.pfcp_endpoint,routeConfigData:t.routeData}})],1),n("el-tab-pane",{attrs:{label:"GTPU端点配置",lazy:!0,name:"gtpu endpoint"}},[n("routeConfig",{attrs:{instanceValue:t.instanceValue,data:t.gtpuEndpointData,type:"gtpu endpoint",formData:t.gtpu_endpoint}})],1),n("el-tab-pane",{attrs:{label:"应用规则配置",lazy:!0,name:"applications"}},[n("routeConfig",{attrs:{instanceValue:t.instanceValue,data:t.applicationsData,type:"applications",formData:t.applications}})],1),n("el-tab-pane",{attrs:{label:"IP地址池配置",lazy:!0,name:"ip pool"}},[n("routeConfig",{attrs:{instanceValue:t.instanceValue,data:t.ipPoolData,type:"ip pool",formData:t.ipPool_data}})],1),n("el-tab-pane",{attrs:{label:"业务定时器配置",lazy:!0,name:"traffic timer"}},[n("el-form",{ref:"trafficTimer",attrs:{model:t.trafficTimer,"label-width":"220px"}},[t._l(t.trafficTimer,(function(e,i){return[n("el-form-item",{key:i,attrs:{label:t.trafficTimerType[i].txt}},[t.trafficTimerType[i]&&t.trafficTimerType[i].type&&("string"===t.trafficTimerType[i].type||"int"===t.trafficTimerType[i].type)?n("el-input",{staticClass:"input-data",model:{value:t.trafficTimer[i],callback:function(e){t.$set(t.trafficTimer,i,e)},expression:"trafficTimer[key]"}}):t._e()],1)]})),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmitSet("trafficTimer")}}},[t._v("添加/修改")])],1)],2)],1),n("el-tab-pane",{attrs:{label:"业务规格配置",lazy:!0,name:"specification"}},[n("el-form",{ref:"specification",attrs:{model:t.specification,"label-width":"220px"}},[t._l(t.specification,(function(e,i){return[n("el-form-item",{key:i,attrs:{label:t.specificationType[i].txt}},[t.specificationType[i]&&t.specificationType[i].type&&("string"===t.specificationType[i].type||"int"===t.specificationType[i].type)?n("el-input",{staticClass:"input-data",model:{value:t.specification[i],callback:function(e){t.$set(t.specification,i,e)},expression:"specification[key]"}}):t._e(),t.specificationType[i].type&&"select"===t.specificationType[i].type?n("el-select",{attrs:{placeholder:"请选择路由id"},model:{value:t.specification[i],callback:function(e){t.$set(t.specification,i,e)},expression:"specification[key]"}},t._l([{value:4e6},{value:8e6}],(function(t){return n("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1):t._e()],1)]})),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmitSet("specification")}}},[t._v("添加/修改")])],1)],2)],1),n("el-tab-pane",{attrs:{label:"路由配置",lazy:!0,name:"route config"}},[n("routeConfig",{attrs:{instanceValue:t.instanceValue,data:t.routeConfig,type:"route config",formData:t.route_config,routeConfigData:t.routeData}})],1)],1)],2)},a=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("c5f6"),n("bd86")),r=n("fcd0"),o={methods:{getServiceInstance:function(t){return new Promise((function(e,n){var i={serviceName:t};Object(r["k"])(i).then((function(t){console.log("获取的实例列表",t),e(t)})).catch((function(t){n(t),console.log("e",t)}))}))}}},c=n("5c96"),l=n("2b0e"),p=new l["default"],u={max_session:{type:"int",txt:"CPE 最大会话数"},max_incoming_req:{type:"int",txt:"CPE 最大并发输入请求数"},max_outcoming_req:{type:"int",txt:"CPE 最大并发输出请求数"},heartbeat_interval:{type:"int",txt:"CPE 心跳 间隔，单位秒"},inactivity_timer:{type:"int",txt:"CPE 节点掉线检查时间"},n1_request:{type:"int",txt:"PFCP 消息重发次"},t1_response_timeout:{type:"int",txt:"PFCP 消息超时时间"}},f={pfcp_local_ipv4_address:{type:"string",txt:"CP N4 口ipv4地址"},pfcp_local_ipv6_address:{type:"string",txt:"CP N4 口ipv6地址"}},m={dpe_number:{type:"int",txt:"DPE 个数"},dpe_max_session:{type:"int",txt:"DPE 最大会话数"},dpe_flow_factor:{type:"int",txt:"DPE 流因子"},dp_accelerate:{type:"bool",txt:"DP 加速是否使能"},dpe_flow_count_per_session:{type:"int",txt:"DPE 每个会话的流最大数"},dpe_flow_idle_time_per_session:{type:"int",txt:"DPE 流失效时间"},n3_interface_ipv4_address:{type:"string",txt:"DP N3 口 ipv4 地址"},n6_interface_ipv4_address:{type:"string",txt:"DP N6 口 ipv4 地址"},n9_interface_ipv4_address:{type:"string",txt:"DP N9 口 ipv4 地址"},n3_interface_ipv6_address:{type:"string",txt:"DP N3 口 ipv6 地址"},n6_interface_ipv6_address:{type:"string",txt:"DP N6 口 ipv6 地址"},n9_interface_ipv6_address:{type:"string",txt:"DP N9 口 ipv6 地址"}},d={ip_v4:{type:"int",txt:"IPV4超时值"},ip_v6:{type:"int",txt:"IPV6超时值"},icmp:{type:"int",txt:"ICMP超时值"},udp:{type:"int",txt:"UDP超时值"},tcp:{type:"int",txt:"TCP超时值"}},_={id:{type:"int",txt:"路由表 ID",value:""}},y={name:{type:"string",txt:"路由项名称",value:""},table_id:{type:"string",txt:"路由表ID",value:""},route_prefix:{type:"string",txt:"目的网络",value:""},next_hop_addr:{type:"int",txt:"下一跳地址",value:""},interface:{type:"int",txt:"发送接口",value:""}},b={name:{type:"string",txt:"配置项名称",value:""},ifname:{type:"string",txt:"接口名称",value:""},mac:{type:"string",txt:"接口 mac 地址",value:""},mtu:{type:"int",txt:"最大发送字节数",value:""},table_id_v4:{type:"int",txt:"ipv4 路由表 ID",value:""},table_id_v6:{type:"int",txt:"ipv6 路由表 ID",value:""},ip_prefix:{type:"array",txt:"接口 IP 地址",value:""}},v={name:{type:"string",txt:"网络实例名称",value:""},table_id:{type:"string",txt:"路由表 ID(V4/V6)",value:""}},g={name:{type:"string",txt:"网络实例名称",value:""},n3:{type:"string",txt:"N3 数据接口名称",value:""},n4:{type:"string",txt:"N4 数据接口名称",value:""},n6:{type:"string",txt:"N6 数据接口名称",value:""},n9:{type:"string",txt:"N9 数据接口名称",value:""},n19:{type:"string",txt:"N19 数据接口名称",value:""}},h={name:{type:"string",txt:"默认实名称",value:""},n3:{type:"string",txt:"N3 数据接口名称",value:""},n4:{type:"string",txt:"N4 数据接口名称",value:""},n6:{type:"string",txt:"N6 数据接口名称",value:""},n9:{type:"string",txt:"N9 数据接口名称",value:""},n19:{type:"string",txt:"N19 数据接口名称",value:""}},x={name:{type:"string",txt:"PFCP 端点的名称",value:""},ip:{type:"string",txt:"端点的IP地址",value:""},table_id:{type:"int",txt:"路由表ID",value:""}},D={name:{type:"string",txt:" GTP 端点名称",value:""},ip_v4:{type:"string",txt:"GTP端点IPV4地址",value:""},ip_v6:{type:"string",txt:"GTP端点IPV6地址",value:""},nwi_name:{type:"string",txt:"网络实例名称",value:""},src_intf:{type:"select",txt:"源接口类型",value:""},teid:{type:"string",txt:"TEID分配范围",value:""}},I={name:{type:"string",txt:"应用名称",value:""},rules:{type:"Array",txt:"应用规则",value:"",sub:{id:{type:"int",txt:"规则ID",value:""},rule_type:{type:"string",txt:"规则类型",value:""},rule:{type:"string",txt:"规则内容",value:""}}}},w={name:{type:"string",txt:"地址池名称",value:""},nwii_name:{type:"string",txt:"网络实例名称",value:""},addrs_v4:{type:"string",txt:"IP4地址池段",value:""},ipv4_prefix:{type:"int",txt:"IP4地址池前缀",value:""},addrs_v6:{type:"string",txt:"IP6地址池段",value:""},ipv6_prefix:{type:"int",txt:"IP6地址池前缀",value:""}},O={heartbeat_interval:{type:"int",txt:"心跳 间隔",value:""},heartbeat_fail_count:{type:"int",txt:"失联 心跳 失败次数",value:""},msg_resend_interval:{type:"int",txt:"PFCP消息超时时间",value:""},msg_resend_fail_count:{type:"int",txt:"PFCP消息失败次数",value:""},msg_resend_times:{type:"int",txt:"PFCP消息重发次数",value:""},flow_timeout_ipv4:{type:"int",txt:"IPV4超时值",value:""},flow_timeout_ipv6:{type:"int",txt:"IPV6超时值",value:""},flow_timeout_icmp:{type:"int",txt:"ICMP超时值",value:""},flow_timeout_udp:{type:"int",txt:"UDP超时值",value:""},flow_timeout_tcp:{type:"int",txt:"TCP超时值",value:""}},P={max_assoc:{type:"int",txt:"最大偶联数",value:""},max_session:{type:"int",txt:"最大会话数",value:""},max_thp:{type:"int",txt:"最大吞吐量",value:""},max_qos:{type:"select",txt:"单线程QOS流规格",value:""}},k={max_assoc:"",max_session:"",max_thp:"",max_qos:4e6},C={heartbeat_interval:"",heartbeat_fail_count:"",msg_resend_interval:"",msg_resend_times:"",flow_timeout_ipv4:"",flow_timeout_ipv6:"",flow_timeout_icmp:"",flow_timeout_udp:"",flow_timeout_tcp:"",msg_resend_fail_count:""},j={dpe_number:"",dpe_max_session:"",dpe_flow_factor:"",dp_accelerate:!1,dpe_flow_count_per_session:"",dpe_flow_idle_time_per_session:"",n3_interface_ipv4_address:"",n6_interface_ipv4_address:"",n9_interface_ipv4_address:"",n3_interface_ipv6_address:"",n6_interface_ipv6_address:"",n9_interface_ipv6_address:""},N={max_session:"",max_incoming_req:"",max_outcoming_req:"",heartbeat_interval:"",inactivity_timer:"",n1_request:"",t1_response_timeout:""},T={pfcp_local_ipv4_address:"",pfcp_local_ipv6_address:""},V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{"margin-bottom":"10px"}},[n("el-button",{attrs:{type:"primary"},on:{click:t.addData}},[t._v("添加数据")])],1),t.data.length>0?n("el-table",{attrs:{stripe:"",border:"",data:t.data}},["applications"==t.type?[n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.rules.length>0?n("el-table",{attrs:{stripe:"",border:"",data:e.row.rules}},[n("el-table-column",{attrs:{label:"规则ID",prop:"id"}}),n("el-table-column",{attrs:{label:"规则类型",prop:"rule_type"}}),n("el-table-column",{attrs:{label:"规则内容",prop:"rule"}})],1):t._e()]}}],null,!1,1856874841)}),n("el-table-column",{attrs:{label:"应用名称",prop:"name"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.delData(e.row)}}},[t._v("删除")])]}}],null,!1,948045374)})]:[t._l(t.columnData,(function(e){return n("el-table-column",{key:e,attrs:{prop:e,label:t.formData[t.toLowerCaseTxt(e)]?t.formData[t.toLowerCaseTxt(e)].txt:e}})})),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.delData(e.row)}}},[t._v("删除")])]}}],null,!1,948045374)})]],2):t._e(),n("el-dialog",{attrs:{title:t.label,visible:t.isShowDiaLog},on:{"update:visible":function(e){t.isShowDiaLog=e}}},["applications"!==t.type?n("el-form",{attrs:{modal:t.formItem}},t._l(t.formItem,(function(e,i){return n("el-form-item",{key:i,attrs:{label:t.formData[i].txt}},[t.isTableId(i)?[n("el-select",{attrs:{value:t.formItem[i],placeholder:"请选择路由id"},on:{change:function(e){return t.onInput(e,i)}}},t._l(t.routeConfigData,(function(t){return n("el-option",{key:t.id,attrs:{label:t.id,value:t.id}})})),1)]:"gtpu endpoint"===t.type&&t.formData[i].type&&"select"==t.formData[i].type?[n("el-select",{attrs:{value:t.formItem[i],placeholder:"请选择源接口类型"},on:{change:function(e){return t.onInput(e,i)}}},t._l(["access","core","cp","n9core"],(function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})})),1)]:"net interface"===t.type&&"ip_prefix"===i?[n("div",{staticClass:"prefix-data"},[t._l(t.formItem.ip_prefix,(function(e,i){return n("div",{key:i,staticClass:"prefix-item"},[n("label",[t._v("ip地址"+t._s(i+1)+":")]),n("el-input",{model:{value:e.ip,callback:function(n){t.$set(e,"ip",n)},expression:"item.ip"}})],1)})),n("el-button",{staticClass:"button-rule",on:{click:t.addIpPrefix}},[t._v("添加ip地址")])],2)]:[n("el-input",{attrs:{value:t.formItem[i]},on:{input:function(e){return t.onInput(e,i)}}})]],2)})),1):n("div",[n("div",{staticClass:"input-application"},[n("label",[t._v("应用名称")]),n("el-input",{attrs:{value:t.formItem["name"]},on:{input:function(e){return t.onInput(e,"name")}}})],1),t._l(t.formItem.rules,(function(e,i){return n("div",{key:i},[n("div",{staticClass:"rule-application"},[t._v(t._s("规则"+(i+1))),t.formItem.rules.length>1?n("i",{staticClass:"el-icon-delete",on:{click:function(e){return t.delRules(i)}}}):t._e()]),n("div",[n("div",{staticClass:"input-application"},[n("label",[t._v("规则ID")]),n("el-input-number",{model:{value:e.id,callback:function(n){t.$set(e,"id",n)},expression:"item.id"}})],1),n("div",{staticClass:"input-application"},[n("label",[t._v("规则类型")]),n("el-select",{attrs:{placeholder:"请选择源接口类型"},model:{value:e.rule_type,callback:function(n){t.$set(e,"rule_type",n)},expression:"item.rule_type"}},[n("el-option",{attrs:{label:"regex",value:"regex"}}),n("el-option",{attrs:{label:"ipfilter",value:"ipfilter"}})],1)],1),n("div",{staticClass:"input-application"},[n("label",[t._v("规则内容")]),n("el-input",{model:{value:e.rule,callback:function(n){t.$set(e,"rule",n)},expression:"item.rule"}})],1)])])})),n("el-button",{staticClass:"button-rule",on:{click:t.addRules}},[t._v("添加应用规则")])],2),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.handleCancel}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.handleConfirm}},[t._v("确 定")])],1)],1)],1)},$=[],S=n("7618");n("7f7f");function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var q={data:function(){return{columnData:{},isShowDiaLog:!1,formItem:{},initFormItem:{}}},watch:{data:{handler:function(t){Array.isArray(t)&&t.length&&t[0]instanceof Object&&!Object.keys(this.columnData).length&&(this.columnData=Object.keys(t[0]))},immediate:!0},routeConfigData:{handler:function(t){console.log("此时的routeConfigData",t)}},formData:{handler:function(t){var e=this,n=Object.keys(t);t&&n.length&&("applications"===this.type?(this.formItem["name"]="",this.formItem["rules"]=[{id:"",rule_type:"",rule:""}]):"net interface"===this.type?n.map((function(t){"ip_prefix"===t?(e.formItem["ip_prefix"]=[{ip:""}],console.log("网络接口prefix",e.formItem["ip_prefix"])):(e.formItem[t]="",console.log("item",t))})):n.map((function(t){e.formItem[t]=""})),this.initFormItem=E({},this.formItem))},immediate:!0}},props:{type:{default:"",type:String},formData:{type:Object,default:function(){return{}}},instanceValue:{default:"",type:String},sequenceNo:{type:Number,default:1e3},label:{default:"",type:String},data:{type:Array,default:function(){return[]}},routeConfigData:{type:Array,default:function(){return[]}}},created:function(){},mounted:function(){},methods:{toLowerCaseTxt:function(t){return t.toLowerCase()},isObject:function(t){return t instanceof Object},isTableId:function(t){var e=["net interface","nwi","pfcp endpoint","route config"],n=["table_id_v4","table_id_v6","table_id"];return e.indexOf(this.type)>-1&&n.indexOf(t)>-1&&(console.log("===>匹配type",this.type+"tableId=="+t),!0)},delData:function(t){var e=this,n=[t];"applications"===this.type&&(n=[{name:t.name}]);var i={request_type:this.type+" del",instance_id:this.instanceValue,sequence_no:1e3,data:n};Object(r["E"])(i).then((function(t){!0===t.status?(e.$message.success("删除成功"),p.$emit("fetchGetConfig",e.type)):e.$message.error(t.error||t.msg||"网络错误，请稍后再试")}))},addData:function(){""!=this.instanceValue?this.isShowDiaLog=!0:this.$message.warning("请先选择实例")},handleConfirm:function(){var t=this,e={};for(var n in this.formItem){if(console.log("key",n),("int"==this.formData[n].type||"string"==this.formData[n].type)&&(""==this.formItem[n]||""==this.formItem[n].trim))return void this.$message.error("请填写完数据再提交");if("int"==this.formData[n].type){var i=Number(this.formItem[n]);if(isNaN(i))return void this.$message.error("".concat(n,"请填写int类型提交"));this.formItem[n]=i}if("array"==this.formData[n].type&&"ip_prefix"===n){var a=function(){var n=[];if(t.formItem.ip_prefix.length&&t.formItem.ip_prefix.map((function(t){t.ip&&n.push(t.ip)})),!n.length)return t.$message.error("接口ip地址至少请填写一个"),{v:void 0};e.ip_prefix=n}();if("object"===Object(S["a"])(a))return a.v}}e=E(E({},this.formItem),e);var s={request_type:this.type+" add",instance_id:this.instanceValue,sequence_no:this.sequenceNo,data:[e]};Object(r["E"])(s).then((function(e){!0===e.status?(t.$message.success("添加成功"),t.formItem=E({},t.initFormItem),t.isShowDiaLog=!1,p.$emit("fetchGetConfig",t.type)):t.$message.error(e.error||e.msg||"网络错误，请稍后再试")}))},isNumber:function(t){},handleCancel:function(){this.formItem=E({},this.initFormItem),"applications"===this.type&&(this.formItem["rules"]=[{id:"",rule_type:"",rule:""}]),"net interface"===this.type&&(this.formItem["ip_prefix"]=[{ip:""}]),this.isShowDiaLog=!1},onInput:function(t,e){this.formItem[e]=t,this.formItem=Object.assign({},this.formItem)},addRules:function(){this.formItem.rules.push({id:"",rule_type:"",rule:""}),this.formItem=Object.assign({},this.formItem)},delRules:function(t){this.formItem.rules.splice(t,1)},addIpPrefix:function(){this.formItem.ip_prefix.push({ip:""}),this.formItem=Object.assign({},this.formItem),console.log("===>ip_prefix",this.formItem)}}},z=q,M=(n("9aef"),n("2877")),U=Object(M["a"])(z,V,$,!1,null,"491b1395",null),F=U.exports,A=n("e511");function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var B={mixins:[o],name:"upf",components:{routeConfig:F,instenceSelect:A["a"]},data:function(){return{options:[],instanceValue:"",tab:"route table",tabLoading:!1,cpeType:u,cpeN4Type:f,dpeType:m,trafficTimerType:O,specificationType:P,flowTimeoutType:d,cpe:{max_session:"",max_incoming_req:"",max_outcoming_req:"",heartbeat_interval:"",inactivity_timer:"",n1_request:"",t1_response_timeout:""},cpeN4:{pfcp_local_ipv4_address:"",pfcp_local_ipv6_address:""},dpe:{dpe_number:"",dpe_max_session:"",dpe_flow_factor:"",dp_accelerate:!1,dpe_flow_count_per_session:"",dpe_flow_idle_time_per_session:"",n3_interface_ipv4_address:"",n6_interface_ipv4_address:"",n9_interface_ipv4_address:"",n3_interface_ipv6_address:"",n6_interface_ipv6_address:"",n9_interface_ipv6_address:""},trafficTimer:{heartbeat_interval:"",heartbeat_fail_count:"",msg_resend_interval:"",msg_resend_times:"",flow_timeout_ipv4:"",flow_timeout_ipv6:"",flow_timeout_icmp:"",flow_timeout_udp:"",flow_timeout_tcp:"",msg_resend_fail_count:""},specification:{max_assoc:"",max_session:"",max_thp:"",max_qos:4e6},routeData:[],netInterfaceData:[],nwiData:[],networkInstanceData:[],dNetworkInstanceData:[],pfcpendpointData:[],gtpuEndpointData:[],applicationsData:[],ipPoolData:[],routeConfig:[],route_table:_,net_interface:b,nwi:v,network_instance:g,default_network_instance:h,pfcp_endpoint:x,gtpu_endpoint:D,applications:I,ipPool_data:w,route_config:y}},created:function(){var t=this;p.$on("fetchGetConfig",(function(e){console.log("eventbusgettype",e),t.getUpfManage()}))},methods:{getUpfServiceInstance:function(){var t=this;this.getServiceInstance("upf").then((function(e){t.options=e.hosts,t.options.length>0&&(t.instanceValue=t.options[0].instanceId,t.getUpfManage(),t.getUpfManage("route table"))})).catch((function(e){t.$alert(e,"网络请求发生错误",{confirmButtonText:"确定",callback:function(t){}})}))},getUpfSelect:function(t){this.instanceValue=t,this.getUpfManage()},getUpfManage:function(t){var e=this;if(""!=this.instanceValue){this.tabLoading=!0,console.log("当前选中的tab,",this.tab),console.log("routerConfi",this.routeData);var n={request_type:(t||this.tab)+" get",instance_id:this.instanceValue,sequence_no:1e3};Object(r["i"])(n).then((function(n){console.log("此时请求列表res",n),e.tabLoading=!1,!0===n.status?(e.dealConfig(n.data),t&&e.dealConfig(n.data,t)):(e.dealConfig([],t),e.$message.error(n.error||n.msg||"网络错误，请稍后再试"+n))})).catch((function(n){e.dealConfig([],t),e.tabLoading=!1,console.log("error:",n),e.$alert(n,"网络请求发生错误",{confirmButtonText:"确定",callback:function(t){}})}))}else this.$message.warning("请先选择实例")},dealConfig:function(t,e){var n=e||this.tab,i=[];switch(t&&Array.isArray(t)&&!t.length&&(i=""),n){case"cpe configuration":this.cpe=i?t[0]:R({},N);break;case"dpe configuration":this.dpe=i?t[0]:R({},j);break;case"route table":this.routeData=i?t:[],console.log("===>type",e);break;case"net interface":this.netInterfaceData=i?t:[];break;case"nwi":this.nwiData=i?t:[];break;case"network instance":this.networkInstanceData=i?t:[];break;case"default network instance":this.dNetworkInstanceData=i?t:[];break;case"pfcp endpoint":this.pfcpendpointData=i?t:[];break;case"gtpu endpoint":this.gtpuEndpointData=i?t:[];break;case"applications":this.applicationsData=i?t:[];break;case"ip pool":this.ipPoolData=i?t:[];break;case"flow timeout":this.flowTimeout=i?t:[],console.log(t);break;case"cpe n4 listen address":this.cpeN4=i?t[0]:R({},T),console.log(t);break;case"specification":this.specification=i?t:R({},k);break;case"traffic timer":this.trafficTimer=i?t:R({},C);break;case"route config":this.routeConfig=i?t:[];break}},clickTab:function(t){console.log("tab--",t),console.log("切换的tab",this.tab),this.getUpfManage()},onSubmitCpeDpe:function(){var t=this;console.log("cpe",this.tab);var e="";if("cpe configuration"===this.tab){for(var n in this.cpe){if(""===this.cpe[n])return void Object(c["Message"])({message:"请填入"+this.cpe[n],type:"error"});if("NaN"===Number(this.cpe[n]))return void Object(c["Message"])({message:this.cpe[n]+"请输入数字类型",type:"error"});this.cpe[n]=Number(this.cpe[n])}e=this.cpe}else if("cpe n4 listen address"===this.tab){for(var i in this.cpeN4)if(""===this.cpeN4[i])return void Object(c["Message"])({message:"请填入"+this.cpeN4[i],type:"error"});e=this.cpeN4}else{for(var a in this.dpe){if(("int"===this.dpeType[a].type||"string"===this.dpeType[a].type)&&""===this.dpe[a])return void Object(c["Message"])({message:"请填入"+this.dpe[a],type:"error"});if("int"===this.dpeType[a].type&&"NaN"===Number(this.dpe[a]))return void Object(c["Message"])({message:this.dpe[a]+"请输入数字类型",type:"error"});"int"===this.dpeType[a].type&&"NaN"!==Number(this.dpe[a])&&(this.dpe[a]=Number(this.dpe[a]))}e=this.dpe}var s={request_type:this.tab+" set",instance_id:this.instanceValue,sequence_no:1e3,data:[e]};Object(r["E"])(s).then((function(e){!0===e.status?(t.$message.success("设置成功"),console.log("获取的dpe和cpe",t[t.tab])):t.$message.error(e.error||e.msg||"网络错误，请稍后再试")}))},onSubmitSet:function(t){var e=this,n=this[t];for(var i in this[t]){if(""===n[i])return void Object(c["Message"])({message:"请填入"+n[i],type:"error"});if("NaN"===Number(n[i]))return void Object(c["Message"])({message:n[i]+"请输入数字类型",type:"error"});n[i]=Number(n[i])}var a={request_type:this.tab+" set",instance_id:this.instanceValue,sequence_no:1e3,data:n};Object(r["E"])(a).then((function(t){!0===t.status?e.$message.success("设置成功"):e.$message.error(t.error||t.msg||"网络错误，请稍后再试")}))}}},J=B,Q=(n("6ba9"),Object(M["a"])(J,i,a,!1,null,"47a6ec81",null));e["default"]=Q.exports},e511:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isupf?t._e():n("el-select",{attrs:{placeholder:"请选择服务",size:"small",filterable:"",clearable:""},on:{change:t.changeService},model:{value:t.serviceName,callback:function(e){t.serviceName=e},expression:"serviceName"}},t._l(t.serviceOptions,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1),n("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择您的实例",size:"small",filterable:"",clearable:""},on:{change:t.changeInstance},model:{value:t.instanceValue,callback:function(e){t.instanceValue=e},expression:"instanceValue"}},t._l(t.instanceOptions,(function(t,e){return n("el-option",{key:e,attrs:{label:t.instanceId.split("#")[0],value:t.instanceId}})})),1)],1)},a=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),r=n("2f62");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={name:"instenceSelect",props:{isupf:{type:Boolean,default:!0}},data:function(){return{serviceName:"",serviceOptions:[],instanceOptions:[],instanceValue:""}},computed:c({},Object(r["e"])("d2admin",{serviceList:function(t){return t.instence.serviceList},instenceList:function(t){return t.instence.instenceList}})),watch:{serviceList:function(){this.serviceOptions=this.$store.state.d2admin.instence.serviceList,this.serviceName=this.serviceOptions[0]},instenceList:function(){this.instanceOptions=this.$store.state.d2admin.instence.instenceList,this.instanceValue=this.instanceOptions[0].instanceId,this.$emit("changeInstence",this.instanceValue)}},mounted:function(){this.isupf?(this.serviceName="upf",this.$store.commit("d2admin/instence/setServiceName","upf"),this.$store.dispatch("d2admin/instence/commitInstenceList")):this.$store.state.d2admin.instence.serviceList.length<1?this.$store.dispatch("d2admin/instence/commitServiceList"):(this.serviceOptions=this.$store.state.d2admin.instence.serviceList,this.$store.state.d2admin.instence.serviceName&&(this.serviceName=this.$store.state.d2admin.instence.serviceName),this.$store.state.d2admin.instence.instenceList&&(this.instanceOptions=this.$store.state.d2admin.instence.instenceList),this.$store.state.d2admin.instence.instenceName&&(this.instanceValue=this.$store.state.d2admin.instence.instenceName.instanceId,this.$emit("changeInstence",this.instanceValue)))},methods:{changeService:function(t){t&&this.$store.dispatch("d2admin/instence/commitInstenceList",t)},changeInstance:function(t){this.$emit("changeInstence",t),this.$store.commit("d2admin/instence/setServiceName",t)}}},p=l,u=n("2877"),f=Object(u["a"])(p,i,a,!1,null,null,null);e["a"]=f.exports},e70a:function(t,e,n){}}]);
//# sourceMappingURL=chunk-403035b1.2e64432d.js.map